(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){"use strict";a.d(t,"b",function(){return i});var n=a(20),i=function(e){return function(t,a){t(function(e){return{type:"SWITCH_CITY",payload:e}}(e)),localStorage.setItem("cityIdx",e)}},r=Object(n.a)({},"SWITCH_CITY",function(e,t){return t.payload}),c=+localStorage.getItem("cityIdx")||0;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,a=r[t.type];return a?a(e,t):e}},42:function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"c",function(){return c}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return s});var n=0;function i(e,t,a,i){var r;return n+=1,r=e?t?"\u8d85\u8fc7".concat(e,",000\u81f3").concat(t,",000\u7684\u90e8\u5206"):"\u4e0d\u8d85\u8fc7".concat(e,",000\u7684\u90e8\u5206"):"\u8d85\u8fc7".concat(t,",000\u7684\u90e8\u5206"),{id:n,income:r,taxRate:a,deduction:i}}var r=[i(36,0,3,0),i(36,144,10,2520),i(144,300,20,16920),i(300,420,25,31920),i(420,660,30,52920),i(660,960,35,85920),i(0,960,45,181920)],c=[i(3,0,3,0),i(3,12,10,210),i(12,25,20,1410),i(25,35,25,2660),i(35,55,30,4410),i(55,80,35,7160),i(0,80,45,15160)],o=[{city:"\u5317\u4eac",minIBase:3387,maxIBase:25401,minHACBase:2409,maxHACBase:25401,minMIBase:5080,minEIBase:3387,minUIBase:3387,minWIIBase:5080,minCIBase:5080,addMI:3,hACRates:[.12,.12],eIRates:[.08,.19],mIRates:[.02,.1],uIRates:[.002,.008],wIIRates:[0,.004],cIRates:[0,.008],tIRates:[.102,.31]},{city:"\u676d\u5dde",minIBase:3054.95,maxIBase:15274.74,minHACBase:2010,maxHACBase:24311,minMIBase:3054.95,minEIBase:3054.95,minUIBase:3054.95,minWIIBase:3054.95,minCIBase:3054.95,addMI:0,hACRates:[.12,.12],eIRates:[.08,.14],mIRates:[.02,.105],uIRates:[.005,.005],wIIRates:[0,.004],cIRates:[0,.012],tIRates:[.105,.266]},{city:"\u4e0a\u6d77",minIBase:4279,maxIBase:21396,minHACBase:2300,maxHACBase:21400,minMIBase:4279,minEIBase:4279,minUIBase:4279,minWIIBase:4279,minCIBase:4279,addMI:0,hACRates:[.07,.07],eIRates:[.08,.2],mIRates:[.02,.095],uIRates:[.005,.005],wIIRates:[0,.005],cIRates:[0,.01],tIRates:[.105,.312]},{city:"\u6df1\u5733",minIBase:2200,maxIBase:25044,minHACBase:2130,maxHACBase:25044,minMIBase:5009,minEIBase:2200,minUIBase:2200,minWIIBase:2200,minCIBase:200,addMI:0,hACRates:[.05,.05],eIRates:[.08,.2],mIRates:[.02,.095],uIRates:[.003,.007],wIIRates:[0,.0014],cIRates:[0,.0045],tIRates:[.103,.3079]},{city:"\u5b81\u6ce2",minIBase:3279,maxIBase:16394,minHACBase:2010,maxHACBase:24420,minMIBase:3279,minEIBase:3279,minUIBase:3279,minWIIBase:3279,minCIBase:3279,addMI:0,hACRates:[.08,.08],eIRates:[.08,.14],mIRates:[.02,.09],uIRates:[.005,.005],wIIRates:[0,0],cIRates:[0,.007],tIRates:[.105,.242]},{city:"\u82cf\u5dde",minIBase:3030,maxIBase:21963,minHACBase:3030,maxHACBase:21900,minMIBase:3030,minEIBase:3030,minUIBase:3030,minWIIBase:3030,minCIBase:3030,addMI:5,hACRates:[.08,.08],eIRates:[.08,.19],mIRates:[.02,.09],uIRates:[.005,.005],wIIRates:[0,.015],cIRates:[0,.008],tIRates:[.105,.308]},{city:"\u65e0\u9521",minIBase:3030,maxIBase:19935,minHACBase:1890,maxHACBase:21250,minMIBase:3030,minEIBase:3030,minUIBase:3030,minWIIBase:3030,minCIBase:3030,addMI:0,hACRates:[.08,.08],eIRates:[.08,.19],mIRates:[.02,.079],uIRates:[.005,.005],wIIRates:[0,.015],cIRates:[0,.008],tIRates:[.105,.297]}],s=["\u5317\u4eac","\u676d\u5dde","\u4e0a\u6d77","\u6df1\u5733","\u5b81\u6ce2","\u82cf\u5dde","\u65e0\u9521"]},5447:function(e,t,a){e.exports=a(5625)},5625:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(21),c=a.n(r),o=a(169),s=a(16),l=a(68),u=a.n(l),m=a(67),d=a.n(m),h=a(170),p=a.n(h),I=a(100),f=a.n(I),v=a(101),b=a.n(v),B=a(5629),g=a(5627),x=a(5628),y=a(41),C=a(27),E=a(28),R=a(30),w=a(29),O=a(31),j=a(20),A=a(10),k=a(165),T=a.n(k),S=a(5630),W=a(33),M=a(103),H=a(109),P=a.n(H),U=a(5626);function N(e,t,a){var n=+e;return n>=t?n<=a?n:a:t}var F=function(e,t){if(t<=Math.min.apply(null,e))return 0;if(t>Math.max.apply(null,e))return e.length;for(var a=0,n=0,i=e.length;n<i;n++)if(e[n]>=t){a=n;break}return a},D=a(42);function q(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,r=+(+e*a).toFixed(2),c=+((+t+n+i)*a).toFixed(2),o=+(+t*a).toFixed(2),s=r-c,l=F([0,36e3,144e3,3e5,42e4,66e4,96e4],s),u=[0,3,10,20,25,30,35,45][l],m=[0,0,2520,16920,31920,52920,85920,181920][l],d=+(s*u/100-m).toFixed(2);return{taxRate:u,quickDeduction:m,tax:d,afterTax:+((+e-+t)*a-d).toFixed(2),income:r,totalDeduction:c,totalInsurance:o}}function L(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=D.b[a],r=i.minMIBase,c=i.minEIBase,o=i.minUIBase,s=i.eIRates,l=i.mIRates,u=i.uIRates,m=i.hACRates,d=i.addMI;return+((e<r?r*l[0]+d:e*l[0]+d)+(e<c?c*s[0]:e*s[0])+(e<o?o*u[0]:e*u[0])+t*m[0]*Number(n)).toFixed(2)}var _,J=function(e){var t=e.classes,a=e.label,n=e.value,r=e.city;return i.a.createElement("span",null,i.a.createElement("span",{className:t.span},r),a,i.a.createElement("span",{className:t.span},n))},Y=function(e){return i.a.createElement(U.a,Object.assign({to:"/city"},e))},z=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(R.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={monthIncome:"",insurance:"",iBase:"",hACBase:"",additional:"",checkProvident:!0},a.handleClick=function(e){var t=a.state,n=t.monthIncome,i=t.insurance,r=t.additional;if(n&&i){e.preventDefault();var c=q(n,i,12,+r),o=new Array(12).fill(1).map(function(e,t){if(!t){var a=q(n,i,1,+r);return{tax:a.tax,income:a.income,afterTax:a.afterTax}}var c=q(n,i,t+1,+r),o=q(n,i,t,+r),s=+(c.tax-o.tax).toFixed(2),l=+n;return{tax:s,income:l,afterTax:+(l-s-+i).toFixed(2)}});a.props.history.push("/result"),a.props.switchType(1),a.props.compute(Object(W.a)({},c,{aMonthTax:o,insurance:i,additional:12*+r}))}},a.handleChange=function(e){return function(t){var n=a.props.cityIdx,i=D.b[n],r=i.minIBase,c=i.maxIBase,o=i.minHACBase,s=i.maxHACBase;if("checkProvident"!==e){var l=t.target.value;a.setState(Object(j.a)({},e,l)),"monthIncome"===e&&a.setState(function(e){var t=e.checkProvident,a=N(l,r,c),i=N(l,o,s);return{iBase:a,hACBase:i,insurance:L(a,i,n,t)}})}else{var u=t.target.checked;a.setState(function(e){var t=L(e.iBase,e.hACBase,n,u);return{checkProvident:u,insurance:t}})}}},a.handleBlur=function(e){return function(t){var n=a.props.cityIdx,i=D.b[n],r=i.minIBase,c=i.maxIBase,o=i.minHACBase,s=i.maxHACBase;"iBase"!==e&&"hACBase"!==e||a.setState(function(t){var a,i=N(t[e],"iBase"===e?r:o,"iBase"===e?c:s),l="iBase"===e?L(i,t.hACBase,n,t.checkProvident):L(t.iBase,i,n,t.checkProvident);return a={},Object(j.a)(a,e,i),Object(j.a)(a,"insurance",l),a})}},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.cityIdx,n=this.state,r=n.monthIncome,c=n.insurance,o=n.iBase,s=n.hACBase,l=n.additional,u=n.checkProvident,m=D.b[a],d=m.city,h=m.minIBase,p=m.maxIBase,I=m.minHACBase,f=m.maxHACBase;return i.a.createElement(A.h,{container:!0,spacing:24,justify:"flex-end",component:"form"},i.a.createElement(A.h,{item:!0,xs:12},i.a.createElement(A.b,{size:"small",variant:"contained",fullWidth:!0,classes:{label:t.btnLabel},component:Y},i.a.createElement(M.d,{color:"inherit"}),d)),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{required:!0,id:"monthIncome",label:"\u6708\u5747\u5de5\u8d44\u6536\u5165(\u5143)",fullWidth:!0,type:"number",value:r,onChange:this.handleChange("monthIncome")})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{required:!0,id:"insurance",label:"\u4e94\u9669\u4e00\u91d1(\u5143)",fullWidth:!0,helperText:"*\u6839\u636e\u7f34\u7eb3\u57fa\u6570\u8ba1\u7b97\uff0c\u53ef\u624b\u52a8\u4fee\u6539",type:"number",value:c,onChange:this.handleChange("insurance")})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{id:"iBase",label:"\u793e\u4fdd\u7f34\u7eb3\u57fa\u6570(\u5143)",value:o,fullWidth:!0,helperText:i.a.createElement(J,{classes:t,city:d,label:"\u793e\u4fdd\u7f34\u7eb3\u57fa\u6570\u8303\u56f4\uff1a",value:"".concat(h,"-").concat(p)}),type:"number",onChange:this.handleChange("iBase"),onBlur:this.handleBlur("iBase")})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{id:"hACBase",label:"\u516c\u79ef\u91d1\u7f34\u7eb3\u57fa\u6570(\u5143)",value:s,onChange:this.handleChange("hACBase"),onBlur:this.handleBlur("hACBase"),fullWidth:!0,disabled:!u,helperText:i.a.createElement(J,{classes:t,city:d,label:"\u516c\u79ef\u91d1\u7f34\u7eb3\u57fa\u6570\u8303\u56f4\uff1a",value:"".concat(I,"-").concat(f)}),type:"number"})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{id:"additional",label:"\u4e13\u9879\u9644\u52a0\u6263\u9664(\u5143/\u6708)",value:l,onChange:this.handleChange("additional"),onBlur:this.handleBlur("additional"),fullWidth:!0,type:"number",helperText:"*\u4e13\u9879\u9644\u52a0\u6263\u9664\u8bf7\u5728\u4e2a\u4eba\u6240\u5f97\u7a0eAPP\u4e2d\u7533\u62a5\u67e5\u770b"})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.g,{control:i.a.createElement(A.c,{value:"checkProvident",checked:u,onChange:this.handleChange("checkProvident")}),label:"\u6c47\u7f34\u4f4f\u623f\u516c\u79ef\u91d1"})),i.a.createElement(A.h,{item:!0,xs:12,md:4},i.a.createElement(A.b,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.handleClick,type:"submit"},"\u8ba1\u7b97")))}}]),t}(n.Component),G=Object(s.withStyles)(function(e){return{span:{color:P.a[500]},btnLabel:{justifyContent:"flex-start"}}})(z),Q=function(e){return function(t){t({type:"COMPUTE",payload:e}),localStorage.setItem("result",JSON.stringify(e))}},V=function(e){return function(t){t({type:"SWITCH_TYPE",payload:e}),localStorage.setItem("type",e)}},$=(_={},Object(j.a)(_,"COMPUTE",function(e,t){return Object(W.a)({},e,{result:t.payload})}),Object(j.a)(_,"SWITCH_TYPE",function(e,t){return Object(W.a)({},e,{type:t.payload})}),_),K={type:+localStorage.getItem("type")||1,result:JSON.parse(localStorage.getItem("result"))||{aMonthTax:[]}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=$[t.type];return a?a(e,t):e},Z={compute:Q,switchType:V},ee=Object(S.a)(Object(y.b)(function(e){return{cityIdx:e.cityIdx}},Z)(G)),te={forward:"\u5e94\u53d1\u5e74\u7ec8\u5956(\u5143)",reverse:"\u7a0e\u540e\u6240\u5f97(\u5143)"},ae=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(R.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={mode:"forward",bonus:""},a.handleChange=function(e){return function(t){a.setState(Object(j.a)({},e,t.target.value))}},a.handleClick=function(e){var t=a.state,n=t.bonus,i=t.mode;n&&(e.preventDefault(),a.props.history.push("/result"),a.props.switchType(2),a.props.compute(function(e){var t=[0,3e3,12e3,25e3,35e3,55e3,8e4],a=[0,3,10,20,25,30,35,45],n=[0,0,210,1410,2660,4410,7160,15160];if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=F(t,e/12),r=a[i],c=n[i],o=+(e*r/100-c).toFixed(2);return{tax:o,income:e,taxRate:r,quickDeduction:c,afterTax:e-o}}for(var s,l,u,m=0,d=0,h=a.length;m<h;m++){var p=+((e-n[m])/(1-a[m]/100)/12).toFixed(2);if(F(t,p)===m){d=m;break}}return{taxRate:l=a[d],quickDeduction:u=n[d],afterTax:e,income:s=+((e-u)/(1-l/100)).toFixed(2),tax:+(s-e).toFixed(2)}}(+n,"forward"===i)))},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.mode,a=e.bonus;return i.a.createElement(A.h,{container:!0,spacing:24,component:"form",justify:"flex-end"},i.a.createElement(A.h,{item:!0,xs:12},i.a.createElement(A.o,{name:"mode",value:this.state.mode,onChange:this.handleChange("mode"),row:!0},i.a.createElement(A.g,{value:"forward",control:i.a.createElement(A.n,null),label:"\u6b63\u7b97\u7a0e\u540e"}),i.a.createElement(A.g,{value:"reverse",control:i.a.createElement(A.n,null),label:"\u53cd\u63a8\u7a0e\u524d"}))),i.a.createElement(A.h,{item:!0,xs:12},i.a.createElement(A.x,{required:!0,id:"bonus",label:te[t],fullWidth:!0,type:"number",value:a,onChange:this.handleChange("bonus")})),i.a.createElement(A.h,{item:!0,xs:12,md:4},i.a.createElement(A.b,{variant:"contained",fullWidth:!0,color:"primary",type:"submit",onClick:this.handleClick},"\u8ba1\u7b97")))}}]),t}(n.Component),ne=Object(s.withStyles)(function(e){return{}})(ae),ie={compute:Q,switchType:V},re=Object(S.a)(Object(y.b)(function(e){return{}},ie)(ne)),ce=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(R.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=e.matchesDwonSm;return i.a.createElement("div",{className:t.root},i.a.createElement(A.a,{position:"static",color:"default"},i.a.createElement(A.w,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:n?"fullWidth":"standard"},i.a.createElement(A.q,{label:"\u5e74\u5ea6\u4e2a\u7a0e"}),i.a.createElement(A.q,{label:"\u5e74\u7ec8\u5956"}))),i.a.createElement(T.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},i.a.createElement("main",{className:t.layout},i.a.createElement(A.m,{className:t.paper,elevation:2},i.a.createElement(ee,null))),i.a.createElement("main",{className:t.layout},i.a.createElement(A.m,{className:t.paper,elevation:2},i.a.createElement(re,null)))))}}]),t}(n.Component),oe=Object(s.withStyles)(function(e){return{root:{flexGrow:1},layout:Object(j.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(600+2*e.spacing.unit*2),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(j.a)({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit})}},{withTheme:!0})(ce),se=function(e){function t(){return Object(C.a)(this,t),Object(R.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),le=Object(S.a)(se),ue=a(32),me=a(168),de=a(162),he=function(e){return Object(ue.c)(Object(W.a)({cityIdx:de.a,calc:X},e))},pe=he,Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[me.a],a=ue.d;var n=Object(ue.e)(pe(),e,a.apply(void 0,[ue.a.apply(void 0,t)].concat([])));return n.asyncReducers={},n}(),fe=Object(n.lazy)(function(){return a.e(3).then(a.bind(null,5633))}),ve=Object(n.lazy)(function(){return a.e(4).then(a.bind(null,5634))});var be=Object(s.withTheme)()(function(e){var t=e.theme,a=Object(o.unstable_useMediaQuery)(t.breakpoints.down("sm"));return i.a.createElement(B.a,null,i.a.createElement(n.Suspense,{fallback:i.a.createElement(d.a,null)},i.a.createElement(g.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(oe,Object.assign({},e,{matchesDwonSm:a}))}}),i.a.createElement(g.a,{path:"/result",render:function(e){return i.a.createElement(fe,e)}}),i.a.createElement(g.a,{path:"/city",render:function(e){return i.a.createElement(ve,e)}})))}),Be=Object(s.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:p.a,secondary:f.a,error:b.a,contrastThreshold:3,tonalOffset:.2}});var ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(function(){return i.a.createElement(s.MuiThemeProvider,{theme:Be},i.a.createElement(u.a,null),i.a.createElement(y.a,{store:Ie},i.a.createElement(x.a,{basename:"/personal-income-tax-calculator/"},i.a.createElement(le,null,i.a.createElement(be,null)))))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/personal-income-tax-calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/personal-income-tax-calculator","/service-worker.js");ge?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):xe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):xe(t,e)})}}()}},[[5447,1,2]]]);
//# sourceMappingURL=main.f30e5ca9.chunk.js.map